# User Feedback â€“ Sistema de Coleta e GestÃ£o de Feedbacks
Plataforma completa para criaÃ§Ã£o, gestÃ£o e anÃ¡lise de pesquisas e feedbacks em produtos digitais.

---

## Premissas
- NÃƒO criar novos arquivos de documentaÃ§Ã£o sem solicitaÃ§Ã£o explÃ­cita.  
- DocumentaÃ§Ãµes adicionais devem ir para `docs/` seguindo o padrÃ£o de nomenclatura jÃ¡ existente.  

---

## ğŸ› ï¸ Comandos Principais

### Desenvolvimento
```bash
pnpm dev        # Inicia o servidor Next.js em modo desenvolvimento
pnpm build      # Gera build de produÃ§Ã£o
pnpm start      # Roda build em produÃ§Ã£o
pnpm lint       # Verifica padrÃµes de cÃ³digo
```

### Banco de Dados
- ConfiguraÃ§Ã£o inicial via endpoints:
  - `/api/setup-database`
  - `/api/setup-projects`
- Schemas definidos diretamente na camada de API (rotas em `app/api/...`)  
- NÃ£o hÃ¡ migrations automÃ¡ticas: a configuraÃ§Ã£o inicial Ã© feita por rotas de setup.

---

## ğŸ“ Estrutura do Projeto
```plaintext
app/                 # AplicaÃ§Ã£o Next.js (App Router)
 â”œâ”€â”€ globals.css     # Estilos globais
 â”œâ”€â”€ layout.tsx      # Layout base
 â”œâ”€â”€ page.tsx        # PÃ¡gina inicial
 â”œâ”€â”€ admin/          # Ãrea administrativa
 â”œâ”€â”€ api/            # Rotas de API (Next.js API Routes)
 â”‚    â”œâ”€â”€ auth/      # Login, registro e troca de senha
 â”‚    â”œâ”€â”€ projects/  # CRUD de projetos
 â”‚    â”œâ”€â”€ surveys/   # CRUD de surveys, mÃ©tricas, respostas
 â”‚    â”œâ”€â”€ feedbacks/ # Feedbacks diretos
 â”‚    â””â”€â”€ setup-*    # Endpoints de inicializaÃ§Ã£o do sistema
 â””â”€â”€ embed/          # Rotas de embed de surveys

components.json      # ConfiguraÃ§Ã£o de componentes
tailwind.config.ts   # ConfiguraÃ§Ã£o do Tailwind
tsconfig.json        # ConfiguraÃ§Ã£o do TypeScript
```

---

## ğŸ¯ Tecnologias Principais
- **Frontend / Fullstack**: Next.js (App Router) + TypeScript  
- **EstilizaÃ§Ã£o**: Tailwind CSS  
- **AutenticaÃ§Ã£o**: Rotas prÃ³prias (`/api/auth`) com bcrypt  
- **Banco de Dados**: IntegraÃ§Ã£o via rotas de setup (sem ORM explÃ­cito)  
- **Infraestrutura**: Deploy agnÃ³stico (Docker configurÃ¡vel, suporte a Vercel/Node)  

---

## ğŸ“ Diretrizes de CÃ³digo

### Estilo de CÃ³digo
- Sempre usar **TypeScript**  
- Imports com **ES Modules** (`import/export`), nunca `require`  
- `camelCase` para variÃ¡veis/funÃ§Ãµes  
- `PascalCase` para componentes React/Next.js  
- `kebab-case` para arquivos e diretÃ³rios  

### Estrutura de Arquivos
- APIs em `app/api/*`  
- Componentes React em `app/*`  
- ConfiguraÃ§Ãµes raiz (`tsconfig.json`, `tailwind.config.ts`)  

---

## ğŸ” AutenticaÃ§Ã£o & SeguranÃ§a
- Sistema prÃ³prio de login/registro em `/api/auth`  
- Senhas protegidas com **bcrypt**  
- SessÃµes e tokens customizados via API  

---

## ğŸ§ª Testing & Debug
- `pnpm lint` para checar padrÃµes  
- Logs de debug disponÃ­veis nos endpoints de API (`console.log`)  
- Recomenda-se Postman/Insomnia para testar rotas REST  

---

## âš ï¸ Comportamentos EspecÃ­ficos
- Surveys podem ser **embeddados** em outras aplicaÃ§Ãµes (`/api/embed/[id]`)  
- O setup inicial precisa rodar via rotas dedicadas (`/api/setup-database`, `/api/setup-projects`)  
- Respostas e mÃ©tricas sÃ£o versionadas dentro da pasta `app/api/surveys/[id]/...`  

---

## ğŸ”§ Troubleshooting
Problemas comuns:
- **Banco nÃ£o configurado** â†’ Rodar `/api/setup-database`  
- **Erro de autenticaÃ§Ã£o** â†’ Verificar bcrypt e variÃ¡veis de ambiente  
- **Build falhando** â†’ Rodar `pnpm install && pnpm build`  
